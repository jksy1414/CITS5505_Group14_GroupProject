{% extends 'base.html' %}

{% block title %}
    Sign Up - FitBug
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_account.css') }}">
{% endblock %}

{% block content %}    
<div class="card" style="max-width: 500px; margin: 60px auto; padding: 30px;">
    <h3 class="mb-4 text-center">Register your new account!</h3>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="alert alert-warning">
                {% for msg in messages %}
                    {{ msg }}
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Register form -->
    <form method="POST" action="/register">
        <div class="mb-3">
            <label>Username</label>
            <input type="text" class="form-control" name="username" required>
        </div>

        <div class="mb-3">
            <label>Password</label>
            <input type="password" class="form-control" id="new_password" name="password" required>
            <div id="strength-indicator" class="form-text fw-bold"></div>
        </div>

        <div class="mb-3">
            <label>Confirm Password</label>
            <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
        </div>

        <div id="error-message" class="text-danger fw-bold mb-2"></div>

        <div class="mb-3">
            <label>Email</label>
            <input type="email" class="form-control" name="email" required>
        </div>

        <div class="mb-3">
            <label>Height (cm)</label>
            <input type="number" class="form-control" name="height" required>
        </div>

        <div class="mb-3">
            <label>Weight (kg)</label>
            <input type="number" class="form-control" name="weight" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Date of Birth</label>
            <input type="date" class="form-control" name="dob" required>
        </div>
          
        <button type="submit" id="submitBtn" class="btn btn-success w-100">Submit</button>
    </form>

    <p class="mt-3 text-center">Already have an account? <a href="{{ url_for('auth.login') }}">Go to login</a></p>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/password_validate.js') }}"></script>
{% endblock %}